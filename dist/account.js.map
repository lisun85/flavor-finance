{"version":3,"sources":["../src/account.js"],"names":["Datastore","require","web3interface","web3","ProxyWalletABI","signingAccount","FactoryContract","FactoryAddress","datastore","getAccount","address","accountKey","key","Promise","resolve","reject","get","then","results","err","updateAccount","selectedAsset","entity","data","name","value","save"],"mappings":";;;;;;;;;;;;AAAA,IAAMA,SAAS,GAAGC,OAAO,CAAC,yBAAD,CAAzB;;AACA,IAAMC,aAAa,GAAGD,OAAO,CAAC,iBAAD,CAA7B;;AACA,IAAME,IAAI,GAAGD,aAAa,CAACC,IAA3B;AACA,IAAMC,cAAc,GAAGF,aAAa,CAACE,cAArC;AACA,IAAMC,cAAc,GAAGH,aAAa,CAACG,cAArC;AACA,IAAMC,eAAe,GAAGJ,aAAa,CAACI,eAAtC;AACA,IAAMC,cAAc,GAAGL,aAAa,CAACK,cAArC,C,CAEA;;AACA,IAAMC,SAAS,GAAG,IAAIR,SAAJ,EAAlB;;SAGeS,U;;;;;kCAAf,WAA0BC,OAA1B,EAAmC;AACjC,QAAMC,UAAU,GAAGH,SAAS,CAACI,GAAV,CAAc,CAAC,SAAD,EAAYF,OAAZ,CAAd,CAAnB;AACA,WAAO,IAAIG,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCP,MAAAA,SAAS,CAACQ,GAAV,CAAcL,UAAd,EAA0BM,IAA1B,CAA+B,CAACC,OAAD,EAAUC,GAAV,KAAkB;AAC/CD,QAAAA,OAAO,GACJJ,OAAO,CAACI,OAAO,CAAC,CAAD,CAAR,CADH,GAEJH,MAAM,CAACI,GAAD,CAFT;AAGD,OAJD;AAKD,KANM,CAAP;AAOD,G;;;;SAEcC,a;;;;;qCAAf,WAA6BV,OAA7B,EAAsCW,aAAtC,EAAoD;AAClD,QAAMV,UAAU,GAAGH,SAAS,CAACI,GAAV,CAAc,CAAC,SAAD,EAAYF,OAAZ,CAAd,CAAnB;AACA,QAAMY,MAAM,GAAG;AACbV,MAAAA,GAAG,EAAED,UADQ;AAEbY,MAAAA,IAAI,EAAE,CACJ;AACEC,QAAAA,IAAI,EAAE,SADR;AAEEC,QAAAA,KAAK,EAAEf;AAFT,OADI,EAKJ;AACEc,QAAAA,IAAI,EAAE,eADR;AAEEC,QAAAA,KAAK,EAAEJ;AAFT,OALI;AAFO,KAAf;AAaA,UAAMb,SAAS,CAACkB,IAAV,CAAeJ,MAAf,CAAN;AACA,WAAO;AACLZ,MAAAA,OADK;AAELW,MAAAA;AAFK,KAAP;AAID,G","sourcesContent":["const Datastore = require('@google-cloud/datastore');\nconst web3interface = require('./web3interface');\nconst web3 = web3interface.web3;\nconst ProxyWalletABI = web3interface.ProxyWalletABI;\nconst signingAccount = web3interface.signingAccount;\nconst FactoryContract = web3interface.FactoryContract;\nconst FactoryAddress = web3interface.FactoryAddress;\n\n// Creates a client\nconst datastore = new Datastore();\n\n\nasync function getAccount(address) {\n  const accountKey = datastore.key(['Account', address]);\n  return new Promise((resolve, reject) => {\n    datastore.get(accountKey).then((results, err) => {\n      results\n       ? resolve(results[0])\n       : reject(err);\n    });\n  });\n}\n\nasync function updateAccount(address, selectedAsset){\n  const accountKey = datastore.key(['Account', address]);\n  const entity = {\n    key: accountKey,\n    data: [\n      {\n        name: 'address',\n        value: address,\n      },\n      {\n        name: 'selectedAsset',\n        value: selectedAsset,\n      },\n    ],\n  };\n  await datastore.save(entity);\n  return {\n    address,\n    selectedAsset\n  }\n}\n\n\n\n\n\nexport {\n    getAccount, updateAccount\n};\n"],"file":"account.js"}
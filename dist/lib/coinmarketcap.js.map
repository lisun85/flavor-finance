{"version":3,"sources":["../../src/lib/coinmarketcap.js"],"names":["fetchListings","Promise","resolve","reject","axios","get","params","headers","process","env","COIN_MARKET_CAP_API_KEY","then","res","data","fetchAssetPrices","assetSymbols","results","assetResults","forEach","result","includes","symbol","quote","USD","price"],"mappings":";;;;;;;;AAAA;;;;;;;;SAGeA,a;;;;;qCAAf,aAA+B;AAC7B,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,qBAAMC,GAAN,CAAU,qEAAV,EACE;AACEC,QAAAA,MAAM,EAAE;AACN,mBAAS,GADH;AAEN,mBAAS,KAFH;AAGN,qBAAW;AAHL,SADV;AAMEC,QAAAA,OAAO,EAAE;AACP,+BAAqBC,OAAO,CAACC,GAAR,CAAYC;AAD1B;AANX,OADF,EAWEC,IAXF,CAWQC,GAAD,IAAS;AACdV,QAAAA,OAAO,CAACU,GAAG,CAACC,IAAL,CAAP;AACD,OAbD;AAcD,KAfM,CAAP;AAiBD,G;;;;SAGcC,gB;;;;;wCAAf,WAAgCC,YAAhC,EAA6C;AAC3C,WAAOf,aAAa,GACnBW,IADM,CACDK,OAAO,IAAI;AACf,UAAMC,YAAY,GAAG,EAArB;AACAD,MAAAA,OAAO,CAACH,IAAR,CAAaK,OAAb,CAAqBC,MAAM,IAAI;AAC7B,YAAIJ,YAAY,CAACK,QAAb,CAAsBD,MAAM,CAACE,MAA7B,CAAJ,EAAyC;AACrCJ,UAAAA,YAAY,CAACE,MAAM,CAACE,MAAR,CAAZ,GAA8BF,MAAM,CAACG,KAAP,CAAaC,GAAb,CAAiBC,KAA/C;AACH;AACF,OAJD;AAKA,aAAOP,YAAP;AACD,KATM,CAAP;AAUD,G","sourcesContent":["import axios from \"axios\";\n\n\nasync function fetchListings() {\n  return new Promise((resolve, reject) => {\n    axios.get('https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest',\n      {\n        params: {\n          'start': '1',\n          'limit': '100',\n          'convert': 'USD'\n        },\n        headers: {\n          'X-CMC_PRO_API_KEY': process.env.COIN_MARKET_CAP_API_KEY\n        }\n      }\n    ).then((res) => {\n      resolve(res.data);\n    });\n  });\n\n}\n\n\nasync function fetchAssetPrices(assetSymbols){\n  return fetchListings()\n  .then(results => {\n    const assetResults = {};\n    results.data.forEach(result => {\n      if (assetSymbols.includes(result.symbol)){\n          assetResults[result.symbol] = result.quote.USD.price;\n      }\n    });\n    return assetResults;\n  });\n}\n\n\nexport {\n    fetchListings, fetchAssetPrices\n};\n"],"file":"coinmarketcap.js"}
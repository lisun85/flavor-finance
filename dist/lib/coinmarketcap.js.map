{"version":3,"sources":["../../src/lib/coinmarketcap.js"],"names":["fetchListings","Promise","resolve","reject","axios","get","params","headers","process","env","COIN_MARKET_CAP_API_KEY","then","res","data","fetchQuotes","assetSymbols","join","fetchAssetPrices","results","assetResults","Object","keys","forEach","key","quote","USD","price"],"mappings":";;;;;;;;AAAA;;;;;;;;SAGeA,a;;;;;qCAAf,aAA+B;AAC7B,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,qBAAMC,GAAN,CAAU,qEAAV,EACE;AACEC,QAAAA,MAAM,EAAE;AACN,mBAAS,GADH;AAEN,mBAAS,KAFH;AAGN,qBAAW;AAHL,SADV;AAMEC,QAAAA,OAAO,EAAE;AACP,+BAAqBC,OAAO,CAACC,GAAR,CAAYC;AAD1B;AANX,OADF,EAWEC,IAXF,CAWQC,GAAD,IAAS;AACdV,QAAAA,OAAO,CAACU,GAAG,CAACC,IAAL,CAAP;AACD,OAbD;AAcD,KAfM,CAAP;AAgBD,G;;;;SAEcC,W;;;;;mCAAf,WAA2BC,YAA3B,EAAyC;AACvC,WAAO,IAAId,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCC,qBAAMC,GAAN,CAAU,mEAAV,EACE;AACEC,QAAAA,MAAM,EAAE;AACN,oBAAUS,YAAY,CAACC,IAAb,CAAkB,GAAlB;AADJ,SADV;AAIET,QAAAA,OAAO,EAAE;AACP,+BAAqBC,OAAO,CAACC,GAAR,CAAYC;AAD1B;AAJX,OADF,EASEC,IATF,CASQC,GAAD,IAAS;AACdV,QAAAA,OAAO,CAACU,GAAG,CAACC,IAAL,CAAP;AACD,OAXD;AAYD,KAbM,CAAP;AAeD,G;;;;SAGcI,gB;;;;;wCAAf,WAAgCF,YAAhC,EAA6C;AAC3C,WAAOD,WAAW,CAACC,YAAD,CAAX,CACNJ,IADM,CACDO,OAAO,IAAI;AACf,UAAMC,YAAY,GAAG,EAArB;AACAC,MAAAA,MAAM,CAACC,IAAP,CAAYH,OAAO,CAACL,IAApB,EAA0BS,OAA1B,CAAkCC,GAAG,IAAI;AACvCJ,QAAAA,YAAY,CAACI,GAAD,CAAZ,GAAoBL,OAAO,CAACL,IAAR,CAAaU,GAAb,EAAkBC,KAAlB,CAAwBC,GAAxB,CAA4BC,KAAhD;AACD,OAFD;AAGA,aAAOP,YAAP;AACD,KAPM,CAAP;AAQD,G","sourcesContent":["import axios from \"axios\";\n\n\nasync function fetchListings() {\n  return new Promise((resolve, reject) => {\n    axios.get('https://pro-api.coinmarketcap.com/v1/cryptocurrency/listings/latest',\n      {\n        params: {\n          'start': '1',\n          'limit': '100',\n          'convert': 'USD'\n        },\n        headers: {\n          'X-CMC_PRO_API_KEY': process.env.COIN_MARKET_CAP_API_KEY\n        }\n      }\n    ).then((res) => {\n      resolve(res.data);\n    });\n  });\n}\n\nasync function fetchQuotes(assetSymbols) {\n  return new Promise((resolve, reject) => {\n    axios.get('https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest',\n      {\n        params: {\n          'symbol': assetSymbols.join(',')\n        },\n        headers: {\n          'X-CMC_PRO_API_KEY': process.env.COIN_MARKET_CAP_API_KEY\n        }\n      }\n    ).then((res) => {\n      resolve(res.data);\n    });\n  });\n\n}\n\n\nasync function fetchAssetPrices(assetSymbols){\n  return fetchQuotes(assetSymbols)\n  .then(results => {\n    const assetResults = {};\n    Object.keys(results.data).forEach(key => {\n      assetResults[key] = results.data[key].quote.USD.price;\n    });\n    return assetResults;\n  });\n}\n\n\nexport {\n    fetchListings, fetchAssetPrices\n};\n"],"file":"coinmarketcap.js"}